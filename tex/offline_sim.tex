\subsection{Offline Simulator}
\label{sec:offline_sim}
Our implementation of the offline simulator consists of an umbrella simulator (\texttt{SimulatorV1}) which instantiates a proxy server and a mobile device (\texttt{ProxyServer} and \texttt{Mobile}). Since the main goal of this simulator is to analyze mobile web content redundancy, we built it such that it accepts multiple input files containing stored web page data. The chunk size as well as proxy server and mobile cache sizes are parameters to the simulator.

The simulator implements our protocol by passing the appropriate values as variables between the two device instances via specific methods and functions. In order to simulate multiple rounds of our protocol, it then iterates over the specified set of files gathering the following three statistics: (1) The number of chunks (and hence fingerprints) processed, (2) The remaining cache capacity after processing a web page, and (3) The cache miss-rate for the last web page processed. We use these statistics to calculate the average mobile cache miss-rate for one series of protocol simulations, as well as the average number of bytes transmitted between the proxy server and the mobile client.

There is one detail about our offline simulator that is worth noting. After running tests with fix-sized chunks, we began an implementation of this simulator (\texttt{SimulatorV2}) using sliding window chunking in order to measure differences in number of bytes transferred and saved bandwidth. During our preliminary tests we found that our implementation still contains a few bugs and does not accurately perform sliding window chunking for all input web page data. Nevertheless, the results we obtained from the early experiments that came to a successful completion with this simulator, show promising bandwidth reduction rates indicating that this chunking method indeed offers further improvements to our bandwidth reduction system.
